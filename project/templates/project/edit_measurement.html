{% extends 'project/base.html' %}
{% load static %}
{% block navcontent %}
{% endblock %}
{% block maincontent %}
{% if msg %}
    <div class="p-3 my-2 bg-light">
        <h2 class="form-heading text-danger fw-bolder m-3">{{msg}}</h2>
    </div>    
    {% endif %}
{% if item and measurement %}
<div class="card mt-2" > 
    <div class="row ms-3 pt-3">
        {% if bill and bill is not None %}
        <h3><a href="{% url 'project:PreviousMeasurements' bill item.id 1 %}">Go back to measurements</a></h3>
        {% else %} 
        <h3><a href="{% url 'project:Measurements'  item.id 1 %}">Go back to measurements</a></h3>
        {% endif %} 
    </div>
    <div class="row ms-3 pt-3">
        
        <form class="p-4" action="{% url 'project:EditMeasurement' measurement.id  %}" id="measurement_form" method="POST" >
            {% csrf_token %}  
            <h4 class="fw-bold">Edit measurement </h4> 
            <hr>            
            <div class="row">
                <label for="mdesc" class="text-dark" >Measurement Descritpion</label>
                <input type="text" id="mdesc" name="mdesc" class="form-control mb-3 w-100" value="{{measurement.m_description}}"> 
            </div> 
            <div class="row">
                <div class="col-md-2">
                    <label for="entry_date" class="text-dark">Entry date(mm/dd/yyyy)</label>
                    <input type="date" id="entry_date" name="entry_date" class="form-control mb-3 w-100" value="{{measurement.entry_date|date:'Y-m-d'}}" required>                
                </div> 
                <div class="col-md-2">
                    <label for="newcount" class=" text-dark">Count</label>
                    <input type="number" id="newcount" name="newcount" class="form-control mb-3" value="{{measurement.count}}" required>                
                </div>
                <div class="col-md-2">
                    <label for="newlength" class=" text-dark">Length</label>
                    <input type="number" step="0.001" id="newlength" name="newlength" class="form-control mb-3" value="{{measurement.length}}" required>                
                </div>
                <div class="col-md-2">
                    <label for="newbreadth" class=" text-dark">Breadth</label>
                    <input  type="number" step="0.001" id="newbreadth" name="newbreadth" class="form-control mb-3" value="{{measurement.breadth}}" required>                
                </div>
                <div class="col-md-2">
                    <label for="newheight" class=" text-dark" >Height</label>
                    <input type="number" step="0.001" id="newheight" name="newheight" class="form-control mb-3" value="{{measurement.height|floatformat:3}}" required>                
                </div>
            
                <div class="col-md-2">
                    <label for="newnumber" class=" text-dark" >No.of measurement</label>
                    <input  type="number" step="0.001" id="newnumber" name="newnumber" class="form-control mb-3" value="{{measurement.number}}" required>                
                </div>                        
            </div>                 
            <div class="row  my-0 pb-3">
                <center>
                    <input type="submit" id="savemeasurement" class="btn form-btn-custom w-25" value="Update Measurement">
                </center>                    
            </div>             
        </form>        
    </div>
</div>    
{% endif %}
{% endblock %}